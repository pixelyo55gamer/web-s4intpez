(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const v=document.documentElement,l=document.getElementById("theme-toggle"),E=localStorage.getItem("theme"),S=window.matchMedia("(prefers-color-scheme: dark)").matches;function h(e){v.setAttribute("data-theme",e),localStorage.setItem("theme",e),l&&(l.checked=e==="dark")}h(E||(S?"dark":"light"));l&&l.addEventListener("change",()=>{h(l.checked?"dark":"light")});const m=document.getElementById("year");m&&(m.textContent=new Date().getFullYear());const f=document.getElementById("age"),I=2007,g=2,w=22;function b(){const e=new Date;let t=e.getFullYear()-I;return(e.getMonth()+1<g||e.getMonth()+1===g&&e.getDate()<w)&&t--,t}f&&(f.textContent=b());document.querySelector("header");const L=document.querySelectorAll('a[href^="#"]');function k(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}L.forEach(e=>{e.addEventListener("click",t=>{const r=e.getAttribute("href");r&&r.startsWith("#")&&(t.preventDefault(),k(r),history.pushState(null,"",r))})});const B=Array.from(document.querySelectorAll("section[id]")),d=new Map;document.querySelectorAll('nav a[href^="#"]').forEach(e=>{const t=e.getAttribute("href").slice(1);d.set(t,e)});const M=new IntersectionObserver(e=>{e.forEach(t=>{const r=t.target.id,c=d.get(r);c&&t.isIntersecting&&(d.forEach(n=>n.classList.remove("active")),c.classList.add("active"))})},{root:null,threshold:.4});B.forEach(e=>M.observe(e));const p=document.getElementById("popup"),A=document.getElementById("closePopup");setTimeout(()=>{p.classList.remove("hidden")},1e3);A.addEventListener("click",()=>{p.classList.add("hidden")});const s=document.getElementById("bgm"),D=document.getElementById("toggleBgm"),u=document.getElementById("volumeSlider");s.volume=u.value;let i=!1;D.addEventListener("click",()=>{i?s.pause():s.play(),i=!i});u.addEventListener("input",()=>{s.volume=u.value});document.addEventListener("click",()=>{s.muted=!1,s.pause()},{once:!0});function y(){const e=new Date,t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0");document.getElementById("clock").textContent=`${t}:${r}:${c}`}y();setInterval(y,1e3);function O(){const e=document.createElement("i");e.className="fa-regular fa-snowflake snowflake",e.style.left=Math.random()*window.innerWidth+"px",e.style.fontSize=5+Math.random()*6+"px",e.style.animationDuration=8+Math.random()*6+"s",e.style.opacity=Math.random()*.6+.2,document.getElementById("snow-container").appendChild(e),setTimeout(()=>e.remove(),18e3)}setInterval(O,1800);
